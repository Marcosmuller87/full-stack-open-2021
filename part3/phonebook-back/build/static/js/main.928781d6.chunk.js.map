{"version":3,"sources":["components/AddPerson.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["AddPerson","newName","newNumber","handleName","handleNumber","addPerson","onSubmit","value","onChange","type","Persons","persons","filter","deletePerson","showFiltered","person","name","toLowerCase","includes","map","number","onClick","id","Filter","handleFilter","baseUrl","requests","getAll","axios","get","then","response","data","create","newObject","post","update","put","remove","delete","Notification","notification","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setNotification","useEffect","personService","initialList","message","error","e","target","preventDefault","personObject","existingPerson","find","window","confirm","returnedPerson","catch","setTimeout","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.928781d6.chunk.js","sourcesContent":["const AddPerson = ({\r\n  newName,\r\n  newNumber,\r\n  handleName,\r\n  handleNumber,\r\n  addPerson,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleName} type=\"text\" />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input value={newNumber} onChange={handleNumber} type=\"number\" />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddPerson;\r\n","const Persons = ({ persons, filter, deletePerson }) => {\r\n  const showFiltered = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(filter.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {showFiltered.map((person) => (\r\n        <div key={person.name}>\r\n          <p>\r\n            {person.name}:&nbsp;\r\n            {person.number}&nbsp;\r\n            <button onClick={() => deletePerson(person.id)}>Delete</button>\r\n          </p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","const Filter = ({ handleFilter }) => {\r\n  return (\r\n    <div>\r\n      Filter by name: <input onChange={handleFilter} type=\"text\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst requests = { getAll, create, update, remove };\r\n\r\nexport default requests;\r\n","const Notification = ({ notification, className }) => {\r\n  if (notification == null) {\r\n    return null;\r\n  }\r\n  return <div className={className}>{notification}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport AddPerson from \"./components/AddPerson\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  // Fetching data from db.json\n  useEffect(() => {\n    personService.getAll().then((initialList) => {\n      setPersons(initialList);\n    });\n  }, []);\n\n  // Adding new person\n  const addPerson = (e) => {\n    e.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const existingPerson = persons.find((person) => person.name === newName);\n\n    if (existingPerson) {\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook. Replace the old number with a new one?`\n        )\n      ) {\n        // Updating existing person\n        personService\n          .update(existingPerson.id, personObject)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== existingPerson.id ? person : returnedPerson\n              )\n            );\n          })\n          .catch((error) => {\n            setNotification({\n              error: `Information of ${existingPerson.name} has already been removed from the server`,\n            });\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n            setPersons(\n              persons.filter((person) => person.id !== existingPerson.id)\n            );\n          });\n        setNotification({\n          message: `Updated ${existingPerson.name}'s number to ${newNumber}`,\n        });\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      }\n    } else {\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNotification(`Added ${returnedPerson.name}`);\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    }\n  };\n\n  // Deleting person\n  const deletePerson = (id) => {\n    if (\n      window.confirm(\n        `Delete ${persons.find((person) => person.id === id).name}?`\n      )\n    ) {\n      personService.remove(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n\n  // Handlers\n  const handleName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleFilter = (e) => {\n    setFilter(e.target.value);\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification\n        notification={notification?.message || notification?.error}\n        className={notification?.message ? \"message\" : \"error\"}\n      />\n      <h2>Filter</h2>\n      <Filter persons={persons} handleFilter={handleFilter} />\n      <h2>Add a new</h2>\n      <AddPerson\n        handleName={handleName}\n        handleNumber={handleNumber}\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}